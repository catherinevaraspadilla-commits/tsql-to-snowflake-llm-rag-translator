{"chunk_id": "c2487829e5e8f1fca41694425afe988df84af62a", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "", "chunk_index": 0, "text": "```md\n---\ntopic: scripting\npage_title: Snowflake Scripting Reference\nsection_path: \"Snowflake Scripting > Reference\"\ntags: [\"declare\", \"if\", \"case\", \"for\", \"while\", \"repeat\", \"loop\", \"break\", \"continue\", \"let\", \"open\", \"fetch\", \"close\", \"await\", \"cancel\", \"raise\", \"return\", \"exception\", \"cursor\", \"snowflake-scripting\", \"control-flow\"]\nurl: TODO\nversion: \"2025-10-22\"\n---\n\n# Snowflake Scripting Reference\n\nSnowflake Scripting extends SQL with procedural logic — including **variables, loops, branching, exception handling**, and more.\n\nBelow is an overview of core scripting constructs.\n\n---", "approx_tokens": 148}
{"chunk_id": "a121c25f874c2a83c594c4726c83457c6ef19d83", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Variable declaration", "chunk_index": 0, "text": "## Variable declaration\n\n```sql\nDECLARE <variable_name> <data_type> [ DEFAULT <expression> ];\n```\n\n---", "approx_tokens": 25}
{"chunk_id": "dd401693f605a5859816e3349d9628933eaaf697", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Block structure", "chunk_index": 0, "text": "## Block structure\n\n```sql\nBEGIN\n    -- statements and control flow\nEND;\n```\n\n---", "approx_tokens": 20}
{"chunk_id": "bc07b367cec3df76b1954cd18bad1300cbb09bca", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Branching", "chunk_index": 0, "text": "## Branching\n\n```sql\nIF <condition> THEN\n    <statement>;\n[ ELSEIF <condition> THEN\n    <statement>; ]\n[ ELSE\n    <statement>; ]\nEND IF;\n\nCASE\n    WHEN <condition> THEN <statement>;\n    ...\nEND CASE;\n```\n\n---", "approx_tokens": 52}
{"chunk_id": "70c1ccf4a71647ac24a8a0885754a15eaf427fec", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Looping constructs", "chunk_index": 0, "text": "## Looping constructs", "approx_tokens": 5}
{"chunk_id": "0c7ec31e4656c38ea6cc70e8299400084d3f8eec", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Looping constructs > FOR loop (cursor-based)", "chunk_index": 0, "text": "### FOR loop (cursor-based)\n\n```sql\nFOR <row_variable> IN <cursor_name> DO\n    <statement>;\n    [ <statement>; ... ]\nEND FOR [ <label> ];\n```", "approx_tokens": 35}
{"chunk_id": "e0195e6bf1247eb2421c886b85af29f891eae5d1", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Looping constructs > FOR loop (counter-based)", "chunk_index": 0, "text": "### FOR loop (counter-based)\n\n```sql\nFOR <counter_variable> IN [ REVERSE ] <start> TO <end> { DO | LOOP }\n    <statement>;\n    [ <statement>; ... ]\nEND { FOR | LOOP } [ <label> ];\n```\n\n> A FOR loop repeats a sequence of steps either:\n> - A specified number of times (counter-based), or  \n> - Once per row in a cursor (cursor-based).\n\n---", "approx_tokens": 84}
{"chunk_id": "9c327d8f0d95478d566d2469579f27fbb810b583", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Looping constructs > WHILE loop", "chunk_index": 0, "text": "### WHILE loop\n\n```sql\nWHILE ( <condition> ) { DO | LOOP }\n    <statement>;\n    [ <statement>; ... ]\nEND { WHILE | LOOP } [ <label> ];\n```\n\n- Repeats **while** the condition evaluates to `TRUE`.\n- A `statement` may be:\n  - A SQL command (including `CALL`)\n  - A control-flow statement (`IF`, `CASE`, `FOR`, etc.)\n  - A nested block\n- If the condition is `NULL`, it’s treated as `FALSE`.\n\n> Valid only inside a Snowflake Scripting block.\n\n---", "approx_tokens": 110}
{"chunk_id": "7a2445d3f8b3cb68a49f3ab1c9d3da019694e985", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Looping constructs > REPEAT loop", "chunk_index": 0, "text": "### REPEAT loop\n\n```sql\nREPEAT\n    <statement>;\n    [ <statement>; ... ]\nUNTIL ( <condition> )\nEND REPEAT [ <label> ];\n```\n\n- Executes **at least once**, checking the condition at the end.  \n- Parentheses around the condition are **required**.\n- If the condition never becomes `TRUE` and no `BREAK` occurs, the loop runs indefinitely.\n\n---", "approx_tokens": 84}
{"chunk_id": "00541383f1c31a4cd8aa38c4e08cbf051b0baf1c", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Looping constructs > LOOP (infinite)", "chunk_index": 0, "text": "### LOOP (infinite)\n\n```sql\nLOOP\n    <statement>;\n    [ <statement>; ... ]\nEND LOOP [ <label> ];\n```\n\n- Loops indefinitely until a `BREAK` or `RETURN` occurs.\n- Typically combined with `IF` or `CASE` to control exit conditions.\n\n---", "approx_tokens": 58}
{"chunk_id": "ef2bb3b3983a1873a2725b0cacbed4317c02829b", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Looping constructs > Loop termination", "chunk_index": 0, "text": "### Loop termination\n\n```sql\nBREAK;     -- exit current loop\nCONTINUE;  -- skip to next iteration\n```\n\n---", "approx_tokens": 26}
{"chunk_id": "559bb0fd4c1d20a62aa0ad50af5f8c1a1eccc28f", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Variable assignment", "chunk_index": 0, "text": "## Variable assignment\n\n```sql\nLET <variable_name> = <expression>;\n```\n\n---", "approx_tokens": 18}
{"chunk_id": "19f593d24a19b7bf6ac826a3a9dc075289f508b4", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Cursor management", "chunk_index": 0, "text": "## Cursor management\n\n```sql\nOPEN <cursor_name>;\nFETCH <cursor_name> INTO <variable>;\nCLOSE <cursor_name>;\n```\n\n---", "approx_tokens": 28}
{"chunk_id": "f21ada1f95f8e787856131e93eceeae016b40d4e", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Asynchronous child jobs", "chunk_index": 0, "text": "## Asynchronous child jobs\n\n```sql\nAWAIT <child_job_name>;\nCANCEL <child_job_name>;\n```\n\n---", "approx_tokens": 23}
{"chunk_id": "150dcf8244126ea3a9e8d6a314ed86fefaac0a2a", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "No-operation statement", "chunk_index": 0, "text": "## No-operation statement\n\n```sql\nNULL;\n```\n> Typically used inside a branch or exception block as a placeholder.\n\n---", "approx_tokens": 29}
{"chunk_id": "0c713c35b8c8083653a30945b96f716cf7657cdb", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Raising exceptions", "chunk_index": 0, "text": "## Raising exceptions\n\n```sql\nRAISE;                 -- re-throws current exception\nRAISE <exception_name> [ USING MESSAGE = '<text>' ];\n```\n\n---", "approx_tokens": 36}
{"chunk_id": "bdeb290130008069b8d7d47d3f7fb3a6939f3812", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Returning values", "chunk_index": 0, "text": "## Returning values\n\n```sql\nRETURN <expression>;\n```\n\n---", "approx_tokens": 14}
{"chunk_id": "58fbaea69614bcfb446259ab7ec28e87385bfd5d", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Exception handling", "chunk_index": 0, "text": "## Exception handling\n\n```sql\nEXCEPTION\n    WHEN <exception_type> THEN\n        <statement>;\nEND;\n```\n\n---", "approx_tokens": 26}
{"chunk_id": "3e229daefaa07246d1051f69645598226775e28d", "doc_id": "scripting/Snowflake Scripting Reference.md", "page_title": "Snowflake Scripting Reference", "heading_path": "Translator guidance (LLM-facing)", "chunk_index": 0, "text": "## Translator guidance (LLM-facing)\n\n- Map procedural SQL code blocks (e.g., T-SQL or PL/SQL) to Snowflake Scripting equivalents:\n  - `BEGIN ... END` blocks → same syntax.\n  - `WHILE`, `FOR`, `IF`, `CASE` → direct analogs.\n  - `EXIT`, `CONTINUE` → map to `BREAK`, `CONTINUE`.\n- Always enclose control structures inside a `BEGIN ... END;` block.\n- Parentheses are **mandatory** around loop and condition expressions.\n- Mark invalid constructs (e.g., dynamic cursors outside scripting) with `-- TODO: confirm Snowflake syntax`.\n- Use `LET` for assignment and `DECLARE` for variable initialization.\n- Exception handling always follows the `EXCEPTION WHEN ... THEN` pattern.\n```", "approx_tokens": 168}
